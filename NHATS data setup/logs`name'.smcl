--------------------------------------------------------------------------------
      name:  <unnamed>
       log:  E:\nhats\nhats_code\NHATS data setup\logs`name'.smcl
  log type:  text
 opened on:  14 Feb 2019, 16:02:11

. 
. 
. 
. 
. *********************************************
. 
. use round_1_$w_cleanv1.dta

. 
. *********************************************
. tab wave, missing

Survey wave |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      8,245       17.26       17.26
          2 |      7,075       14.81       32.06
          3 |      5,799       12.14       44.20
          4 |      4,737        9.91       54.12
          5 |      8,334       17.44       71.56
          6 |      7,276       15.23       86.79
          7 |      6,312       13.21      100.00
------------+-----------------------------------
      Total |     47,778      100.00

. 
. *********************************************
. *********************************************
. //self reported health status/conditions
. *********************************************
. *********************************************
. gen srh=.
(47,778 missing values generated)

. forvalues w=1/$w{
  2. tab health if wave==`w', missing
  3. replace srh=health if wave==`w'
  4. }

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        168        2.04        2.04
          -8 DK |          6        0.07        2.11
-1 Inapplicable |        468        5.68        7.79
    1 EXCELLENT |        938       11.38       19.16
    2 VERY GOOD |      2,029       24.61       43.77
         3 GOOD |      2,426       29.42       73.20
         4 FAIR |      1,607       19.49       92.69
         5 POOR |        603        7.31      100.00
----------------+-----------------------------------
          Total |      8,245      100.00
(8,245 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        190        2.69        2.69
          -8 DK |          6        0.08        2.77
-1 Inapplicable |        829       11.72       14.49
    1 EXCELLENT |        698        9.87       24.35
    2 VERY GOOD |      1,709       24.16       48.51
         3 GOOD |      2,000       28.27       76.78
         4 FAIR |      1,220       17.24       94.02
         5 POOR |        423        5.98      100.00
----------------+-----------------------------------
          Total |      7,075      100.00
(7,075 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        179        3.09        3.09
          -8 DK |          2        0.03        3.12
-1 Inapplicable |        736       12.69       15.81
    1 EXCELLENT |        522        9.00       24.81
    2 VERY GOOD |      1,411       24.33       49.15
         3 GOOD |      1,658       28.59       77.74
         4 FAIR |        985       16.99       94.72
         5 POOR |        306        5.28      100.00
----------------+-----------------------------------
          Total |      5,799      100.00
(5,799 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        156        3.29        3.29
          -8 DK |          3        0.06        3.36
          -7 RF |          1        0.02        3.38
-1 Inapplicable |        544       11.48       14.86
    1 EXCELLENT |        406        8.57       23.43
    2 VERY GOOD |      1,225       25.86       49.29
         3 GOOD |      1,379       29.11       78.40
         4 FAIR |        773       16.32       94.72
         5 POOR |        250        5.28      100.00
----------------+-----------------------------------
          Total |      4,737      100.00
(4,737 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        179        2.15        2.15
          -8 DK |          8        0.10        2.24
-1 Inapplicable |        579        6.95        9.19
    1 EXCELLENT |        855       10.26       19.45
    2 VERY GOOD |      2,116       25.39       44.84
         3 GOOD |      2,593       31.11       75.95
         4 FAIR |      1,550       18.60       94.55
         5 POOR |        454        5.45      100.00
----------------+-----------------------------------
          Total |      8,334      100.00
(8,334 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        177        2.43        2.43
          -8 DK |          3        0.04        2.47
          -7 RF |          1        0.01        2.49
-1 Inapplicable |        689        9.47       11.96
    1 EXCELLENT |        688        9.46       21.41
    2 VERY GOOD |      1,867       25.66       47.07
         3 GOOD |      2,225       30.58       77.65
         4 FAIR |      1,275       17.52       95.18
         5 POOR |        351        4.82      100.00
----------------+-----------------------------------
          Total |      7,276      100.00
(7,276 real changes made)

 R1 HC1 OVERALL |
         HEALTH |
      CONDITION |      Freq.     Percent        Cum.
----------------+-----------------------------------
     -9 Missing |        158        2.50        2.50
          -8 DK |          3        0.05        2.55
-1 Inapplicable |        588        9.32       11.87
    1 EXCELLENT |        550        8.71       20.58
    2 VERY GOOD |      1,636       25.92       46.50
         3 GOOD |      2,013       31.89       78.39
         4 FAIR |      1,040       16.48       94.87
         5 POOR |        324        5.13      100.00
----------------+-----------------------------------
          Total |      6,312      100.00
(6,312 real changes made)

. replace srh=. if inlist(srh,-9,-1)
(5,640 real changes made, 5,640 to missing)

. 
. la var srh "Self reported health, categorical"

. la def srh 1 "Excellent" 2 "Very good" 3 "Good" 4 "Fair" 5 "Poor"

. la val srh srh

. tab srh if ivw_type==1, missing

       Self |
   reported |
    health, |
categorical |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         31        0.07        0.07
         -7 |          2        0.00        0.08
  Excellent |      4,657       11.05       11.13
  Very good |     11,993       28.46       39.59
       Good |     14,294       33.92       73.51
       Fair |      8,450       20.05       93.57
       Poor |      2,711        6.43      100.00
------------+-----------------------------------
      Total |     42,138      100.00

. 
. gen srh_fp=1 if srh==4 | srh==5
(36,617 missing values generated)

. replace srh_fp=0 if inlist(srh,1,2,3)
(30,944 real changes made)

. replace srh_fp=-7 if srh == -7
(2 real changes made)

. replace srh_fp=-8 if srh == -8
(31 real changes made)

. la var srh_fp "Self reported health=fair/poor"

. tab srh_fp srh, missing

      Self |
  reported |
health=fai |           Self reported health, categorical
    r/poor |        -8         -7  Excellent  Very good       Good |     Total
-----------+-------------------------------------------------------+----------
        -8 |        31          0          0          0          0 |        31 
        -7 |         0          2          0          0          0 |         2 
         0 |         0          0      4,657     11,993     14,294 |    30,944 
         1 |         0          0          0          0          0 |    11,161 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        31          2      4,657     11,993     14,294 |    47,778 


      Self |
  reported |      Self reported health,
health=fai |           categorical
    r/poor |      Fair       Poor          . |     Total
-----------+---------------------------------+----------
        -8 |         0          0          0 |        31 
        -7 |         0          0          0 |         2 
         0 |         0          0          0 |    30,944 
         1 |     8,450      2,711          0 |    11,161 
         . |         0          0      5,640 |     5,640 
-----------+---------------------------------+----------
     Total |     8,450      2,711      5,640 |    47,778 


. 
. *********************************************
. //Self-Report Disease
. *********************************************
. //Round 1 - ever told you had xx
. //Round 2 - since the last interview, new condition? 
. /*
> 1 heart attack
> 2 heart disease
> 3 high blood pressure
> 4 arthritis
> 5 osteoporosis
> 6 diabetes
> 7 lung disease
> 8 stroke
> 9 dementia
> 10 cancer
> create two sets of indicator variables for waves 2 and later
> sr_disease_ever = 1 if ever report having the disease (only this variable in w
> ave 1)
> sr_disease_new = 1 if newly reported the disease this wave
> */
. 
. //heart attack / ami, asked both waves, for Wave 1 ask ever had, wave 2 ask in
>  last year
. //same questions for stroke, cancer
. 
. capture program drop disease

. program define disease 
  1.         args dis num
  2.         
.         gen sr_`dis'_raw=.
  3.         forvalues w=1/$w{
  4.                 replace sr_`dis'_raw=1 if disescn`num'==1 & wave==`w'
  5.                 replace sr_`dis'_raw=0 if disescn`num'==2 & wave==`w'
  6.                 replace sr_`dis'_raw=-7 if disescn`num'==-7 & wave==`w'
  7.                 replace sr_`dis'_raw=-8 if disescn`num'==-8 & wave==`w'
  8.         }
  9.         //create two new variables from this...
.         gen sr_`dis'_ever=sr_`dis'_raw
 10.         replace sr_`dis'_ever=. if inrange(wave, 2, $w) & sr_`dis'_raw==0 /
> /set to missing if report no new wave
 11.         replace sr_`dis'_ever=-7 if sr_`dis'_raw == -7
 12.         replace sr_`dis'_ever=-8 if sr_`dis'_raw == -8
 13. 
.         sort spid wave
 14.         by spid (wave): carryforward sr_`dis'_ever if ivw_type==1 , replace
 15.         
.         replace sr_`dis'_ever = sr_`dis'_raw if inrange(wave,2,$w) & sr_`dis'_
> ever == . & sr_`dis'_raw != .
 16. 
.         gen sr_`dis'_new=sr_`dis'_raw if inrange(wave,2,$w)
 17. 
.         end

. 
. //now run programs for specific disease variables
. disease ami 1
(47,778 missing values generated)
(1,164 real changes made)
(6,437 real changes made)
(0 real changes made)
(8 real changes made)
(178 real changes made)
(5,875 real changes made)
(0 real changes made)
(3 real changes made)
(141 real changes made)
(4,735 real changes made)
(1 real change made)
(7 real changes made)
(114 real changes made)
(3,917 real changes made)
(0 real changes made)
(6 real changes made)
(622 real changes made)
(6,936 real changes made)
(0 real changes made)
(18 real changes made)
(160 real changes made)
(6,243 real changes made)
(0 real changes made)
(7 real changes made)
(150 real changes made)
(5,407 real changes made)
(0 real changes made)
(9 real changes made)
(5,640 missing values generated)
(33,113 real changes made, 33,113 to missing)
(0 real changes made)
(0 real changes made)
sr_ami_ever:  (24599 real changes made)
(8,514 real changes made)
(13,249 missing values generated)

. disease stroke 8
(47,778 missing values generated)
(892 real changes made)
(6,709 real changes made)
(0 real changes made)
(8 real changes made)
(178 real changes made)
(5,871 real changes made)
(0 real changes made)
(7 real changes made)
(151 real changes made)
(4,727 real changes made)
(1 real change made)
(5 real changes made)
(133 real changes made)
(3,897 real changes made)
(0 real changes made)
(7 real changes made)
(476 real changes made)
(7,083 real changes made)
(0 real changes made)
(17 real changes made)
(165 real changes made)
(6,233 real changes made)
(0 real changes made)
(12 real changes made)
(158 real changes made)
(5,404 real changes made)
(0 real changes made)
(4 real changes made)
(5,640 missing values generated)
(33,215 real changes made, 33,215 to missing)
(0 real changes made)
(0 real changes made)
sr_stroke_ever:  (24243 real changes made)
(8,972 real changes made)
(13,249 missing values generated)

. disease cancer 10
(47,778 missing values generated)
(1,953 real changes made)
(5,653 real changes made)
(1 real change made)
(2 real changes made)
(355 real changes made)
(5,694 real changes made)
(0 real changes made)
(7 real changes made)
(275 real changes made)
(4,602 real changes made)
(1 real change made)
(6 real changes made)
(240 real changes made)
(3,792 real changes made)
(0 real changes made)
(5 real changes made)
(1,183 real changes made)
(6,386 real changes made)
(1 real change made)
(6 real changes made)
(375 real changes made)
(6,031 real changes made)
(0 real changes made)
(4 real changes made)
(369 real changes made)
(5,190 real changes made)
(0 real changes made)
(7 real changes made)
(5,640 missing values generated)
(31,695 real changes made, 31,695 to missing)
(0 real changes made)
(0 real changes made)
sr_cancer_ever:  (24273 real changes made)
(7,422 real changes made)
(13,249 missing values generated)

. 
. la var sr_ami_raw "Self report Heart Attack, Raw"

. la var sr_ami_ever "Ever Self report Heart Attack"

. la var sr_ami_new "Self report Heart Attack since prev year"

. la var sr_stroke_raw "Self report Stroke, Raw"

. la var sr_stroke_ever "Ever Self report Stroke"

. la var sr_stroke_new "Self report Stroke since prev year"

. la var sr_cancer_raw "Self report Cancer, Raw"

. la var sr_cancer_ever "Ever Self report Cancer"

. la var sr_cancer_new "Self report Cancer since prev year"

. 
. //same question pattern, different variable name though, for hip fracture
. gen sr_hip_raw=.
(47,778 missing values generated)

. forvalues w=1/$w{
  2.         replace sr_hip_raw=1 if brokebon1==1 & wave==`w'
  3.         replace sr_hip_raw=0 if brokebon1==2 & wave==`w'
  4.         replace sr_hip_raw = -7 if brokebon1==-7 & wave==`w'
  5.         replace sr_hip_raw = -8 if brokebon1==-8 & wave==`w'
  6. }
(379 real changes made)
(7,226 real changes made)
(0 real changes made)
(4 real changes made)
(78 real changes made)
(5,976 real changes made)
(0 real changes made)
(2 real changes made)
(86 real changes made)
(4,795 real changes made)
(1 real change made)
(2 real changes made)
(57 real changes made)
(3,979 real changes made)
(0 real changes made)
(1 real change made)
(223 real changes made)
(7,350 real changes made)
(0 real changes made)
(3 real changes made)
(87 real changes made)
(6,320 real changes made)
(0 real changes made)
(3 real changes made)
(67 real changes made)
(5,499 real changes made)
(0 real changes made)
(0 real changes made)

. //create two new variables from this...
. gen sr_hip_ever=sr_hip_raw
(5,640 missing values generated)

. replace sr_hip_ever=. if (inrange(wave,2,$w)) & sr_hip_raw==0 //set to missing
>  if report no new wave
(33,919 real changes made, 33,919 to missing)

. 
. sort spid wave

. by spid (wave): carryforward sr_hip_ever if ivw_type==1 , replace
sr_hip_ever:  (24362 real changes made)

. 
. replace sr_hip_ever = sr_hip_raw if inrange(wave,2,$w) & sr_hip_ever == . & sr
> _hip_raw != .
(9,557 real changes made)

. 
. gen sr_hip_new=sr_hip_raw if inrange(wave,2,$w)
(13,249 missing values generated)

. la var sr_hip_raw "Self report Hip Fracture, Raw"

. la var sr_hip_ever "Ever Self report Hip Fracture (since age 50)"

. la var sr_hip_new "Self report Hip Fracture since prev year"

. 
. foreach dis in ami stroke cancer hip{
  2. tab sr_`dis'_raw wave if ivw_type==1, missing
  3. tab sr_`dis'_ever wave if ivw_type==1, missing
  4. tab sr_`dis'_new wave if ivw_type==1, missing
  5. }

      Self |
    report |
     Heart |
   Attack, |                      Survey wave
       Raw |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         8          3          7          6         18 |        58 
        -7 |         0          0          1          0          0 |         1 
         0 |     6,437      5,875      4,735      3,917      6,936 |    39,550 
         1 |     1,164        178        141        114        622 |     2,529 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
     Heart |
   Attack, |      Survey wave
       Raw |         6          7 |     Total
-----------+----------------------+----------
        -8 |         7          9 |        58 
        -7 |         0          0 |         1 
         0 |     6,243      5,407 |    39,550 
         1 |       160        150 |     2,529 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


 Ever Self |
    report |
     Heart |                      Survey wave
    Attack |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         8          8         12         10         27 |       120 
        -7 |         0          0          1          1          1 |         3 
         0 |     6,437      5,040      4,025      3,289      6,343 |    35,023 
         1 |     1,164      1,008        846        737      1,205 |     6,992 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


 Ever Self |
    report |
     Heart |      Survey wave
    Attack |         6          7 |     Total
-----------+----------------------+----------
        -8 |        27         28 |       120 
        -7 |         0          0 |         3 
         0 |     5,311      4,578 |    35,023 
         1 |     1,072        960 |     6,992 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
    report |
     Heart |
    Attack |
since prev |                      Survey wave
      year |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         0          3          7          6         18 |        50 
        -7 |         0          0          1          0          0 |         1 
         0 |         0      5,875      4,735      3,917      6,936 |    33,113 
         1 |         0        178        141        114        622 |     1,365 
         . |     7,609          0          0          0          0 |     7,609 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
     Heart |
    Attack |
since prev |      Survey wave
      year |         6          7 |     Total
-----------+----------------------+----------
        -8 |         7          9 |        50 
        -7 |         0          0 |         1 
         0 |     6,243      5,407 |    33,113 
         1 |       160        150 |     1,365 
         . |         0          0 |     7,609 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
    report |
   Stroke, |                      Survey wave
       Raw |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         8          7          5          7         17 |        60 
        -7 |         0          0          1          0          0 |         1 
         0 |     6,709      5,871      4,727      3,897      7,083 |    39,924 
         1 |       892        178        151        133        476 |     2,153 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
   Stroke, |      Survey wave
       Raw |         6          7 |     Total
-----------+----------------------+----------
        -8 |        12          4 |        60 
        -7 |         0          0 |         1 
         0 |     6,233      5,404 |    39,924 
         1 |       165        158 |     2,153 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


 Ever Self |
    report |                      Survey wave
    Stroke |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         8         13         12         14         24 |       122 
        -7 |         0          0          1          1          1 |         3 
         0 |     6,709      5,262      4,186      3,423      6,633 |    36,555 
         1 |       892        781        685        599        918 |     5,458 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


 Ever Self |
    report |      Survey wave
    Stroke |         6          7 |     Total
-----------+----------------------+----------
        -8 |        27         24 |       122 
        -7 |         0          0 |         3 
         0 |     5,554      4,788 |    36,555 
         1 |       829        754 |     5,458 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
    report |
    Stroke |
since prev |                      Survey wave
      year |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         0          7          5          7         17 |        52 
        -7 |         0          0          1          0          0 |         1 
         0 |         0      5,871      4,727      3,897      7,083 |    33,215 
         1 |         0        178        151        133        476 |     1,261 
         . |     7,609          0          0          0          0 |     7,609 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
    Stroke |
since prev |      Survey wave
      year |         6          7 |     Total
-----------+----------------------+----------
        -8 |        12          4 |        52 
        -7 |         0          0 |         1 
         0 |     6,233      5,404 |    33,215 
         1 |       165        158 |     1,261 
         . |         0          0 |     7,609 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
    report |
   Cancer, |                      Survey wave
       Raw |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         2          7          6          5          6 |        37 
        -7 |         1          0          1          0          1 |         3 
         0 |     5,653      5,694      4,602      3,792      6,386 |    37,348 
         1 |     1,953        355        275        240      1,183 |     4,750 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
   Cancer, |      Survey wave
       Raw |         6          7 |     Total
-----------+----------------------+----------
        -8 |         4          7 |        37 
        -7 |         0          0 |         3 
         0 |     6,031      5,190 |    37,348 
         1 |       375        369 |     4,750 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


 Ever Self |
    report |                      Survey wave
    Cancer |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         2          8         11         13         16 |        85 
        -7 |         1          1          2          2          2 |        10 
         0 |     5,653      4,357      3,430      2,746      5,407 |    29,831 
         1 |     1,953      1,690      1,441      1,276      2,151 |    12,212 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


 Ever Self |
    report |      Survey wave
    Cancer |         6          7 |     Total
-----------+----------------------+----------
        -8 |        17         18 |        85 
        -7 |         1          1 |        10 
         0 |     4,478      3,760 |    29,831 
         1 |     1,914      1,787 |    12,212 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
    report |
    Cancer |
since prev |                      Survey wave
      year |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         0          7          6          5          6 |        35 
        -7 |         0          0          1          0          1 |         2 
         0 |         0      5,694      4,602      3,792      6,386 |    31,695 
         1 |         0        355        275        240      1,183 |     2,797 
         . |     7,609          0          0          0          0 |     7,609 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
    report |
    Cancer |
since prev |      Survey wave
      year |         6          7 |     Total
-----------+----------------------+----------
        -8 |         4          7 |        35 
        -7 |         0          0 |         2 
         0 |     6,031      5,190 |    31,695 
         1 |       375        369 |     2,797 
         . |         0          0 |     7,609 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
report Hip |
 Fracture, |                      Survey wave
       Raw |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         4          2          2          1          3 |        15 
        -7 |         0          0          1          0          0 |         1 
         0 |     7,226      5,976      4,795      3,979      7,350 |    41,145 
         1 |       379         78         86         57        223 |       977 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
report Hip |
 Fracture, |      Survey wave
       Raw |         6          7 |     Total
-----------+----------------------+----------
        -8 |         3          0 |        15 
        -7 |         0          0 |         1 
         0 |     6,320      5,499 |    41,145 
         1 |        87         67 |       977 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


 Ever Self |
report Hip |
  Fracture |
(since age |                      Survey wave
       50) |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         4          5          6          3          6 |        34 
        -7 |         0          0          1          1          1 |         3 
         0 |     7,226      5,706      4,556      3,751      7,134 |    39,564 
         1 |       379        345        321        282        435 |     2,537 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


 Ever Self |
report Hip |
  Fracture |
(since age |      Survey wave
       50) |         6          7 |     Total
-----------+----------------------+----------
        -8 |         7          3 |        34 
        -7 |         0          0 |         3 
         0 |     5,993      5,198 |    39,564 
         1 |       410        365 |     2,537 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


      Self |
report Hip |
  Fracture |
since prev |                      Survey wave
      year |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         0          2          2          1          3 |        11 
        -7 |         0          0          1          0          0 |         1 
         0 |         0      5,976      4,795      3,979      7,350 |    33,919 
         1 |         0         78         86         57        223 |       598 
         . |     7,609          0          0          0          0 |     7,609 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


      Self |
report Hip |
  Fracture |
since prev |      Survey wave
      year |         6          7 |     Total
-----------+----------------------+----------
        -8 |         3          0 |        11 
        -7 |         0          0 |         1 
         0 |     6,320      5,499 |    33,919 
         1 |        87         67 |       598 
         . |         0          0 |     7,609 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 


. 
. **************************************************************************
. //Many diseases asked 1st wave, then only if report no, asked again 2nd wave
. //wave 2,3=7 if report yes in wave 1
. //use a program over several diseases since pattern is the same
. 
. la def sr_prev_rept 0 "No" 1 "Yes" 7 "Previously reported"

. 
. capture program drop prev_report

. program define prev_report
  1.         args dis num
  2.  
.         gen sr_`dis'_raw=.
  3.                 forvalues w=1/$w{
  4.                         replace sr_`dis'_raw=1 if disescn`num'==1 & wave==`
> w'
  5.                         replace sr_`dis'_raw=0 if disescn`num'==2 & wave==`
> w'
  6.                         replace sr_`dis'_raw=7 if disescn`num'==7 & wave==`
> w'
  7.                         replace sr_`dis'_raw=-7 if disescn`num'==-7 & wave=
> =`w'
  8.                         replace sr_`dis'_raw=-8 if disescn`num'==-8 & wave=
> =`w'
  9.                 }
 10. 
.         la val sr_`dis'_raw sr_prev_rept
 11.         tab sr_`dis'_raw wave if ivw_type==1, missing
 12. 
.         gen sr_`dis'_ever = 1 if inlist(sr_`dis'_raw,1,7) //if prev or curr re
> port yes
 13.         replace sr_`dis'_ever = 0 if sr_`dis'_raw==0
 14.         replace sr_`dis'_ever = -7 if sr_`dis'_raw==-7
 15.         replace sr_`dis'_ever = -8 if sr_`dis'_raw==-8
 16.         tab sr_`dis'_ever sr_`dis'_raw, missing
 17.         tab sr_`dis'_ever wave if ivw_type==1, missing
 18. 
.         gen sr_`dis'_new=sr_`dis'_raw if inrange(wave,2,$w)
 19.         replace sr_`dis'_new=0 if sr_`dis'_raw==7
 20.         tab sr_`dis'_new if inrange(wave,2,$w) & ivw_type==1, missing
 21. 
.         end

. 
. //now run programs for specific disease variables
. prev_report heart_dis 2
(47,778 missing values generated)
(1,411 real changes made)
(6,182 real changes made)
(0 real changes made)
(0 real changes made)
(16 real changes made)
(187 real changes made)
(4,757 real changes made)
(1,107 real changes made)
(0 real changes made)
(5 real changes made)
(138 real changes made)
(3,749 real changes made)
(990 real changes made)
(1 real change made)
(6 real changes made)
(94 real changes made)
(3,022 real changes made)
(917 real changes made)
(0 real changes made)
(4 real changes made)
(724 real changes made)
(5,963 real changes made)
(868 real changes made)
(0 real changes made)
(21 real changes made)
(160 real changes made)
(4,932 real changes made)
(1,303 real changes made)
(0 real changes made)
(15 real changes made)
(130 real changes made)
(4,240 real changes made)
(1,186 real changes made)
(0 real changes made)
(10 real changes made)

                    |                 Survey wave
   sr_heart_dis_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |        16          5          6          4 |        77 
                 -7 |         0          0          1          0 |         1 
                 No |     6,182      4,757      3,749      3,022 |    32,845 
                Yes |     1,411        187        138         94 |     2,844 
Previously reported |         0      1,107        990        917 |     6,371 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
   sr_heart_dis_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |        21         15         10 |        77 
                 -7 |         0          0          0 |         1 
                 No |     5,963      4,932      4,240 |    32,845 
                Yes |       724        160        130 |     2,844 
Previously reported |       868      1,303      1,186 |     6,371 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(38,563 missing values generated)
(32,845 real changes made)
(1 real change made)
(77 real changes made)

sr_heart_d |                    sr_heart_dis_raw
   is_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |        77          0          0          0          0 |        77 
        -7 |         0          1          0          0          0 |         1 
         0 |         0          0     32,845          0          0 |    32,845 
         1 |         0          0          0      2,844      6,371 |     9,215 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        77          1     32,845      2,844      6,371 |    47,778 


           | sr_heart_d
sr_heart_d |   is_raw
   is_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |        77 
        -7 |         0 |         1 
         0 |         0 |    32,845 
         1 |         0 |     9,215 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


sr_heart_d |                      Survey wave
   is_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |        16          5          6          4         21 |        77 
        -7 |         0          0          1          0          0 |         1 
         0 |     6,182      4,757      3,749      3,022      5,963 |    32,845 
         1 |     1,411      1,294      1,128      1,011      1,592 |     9,215 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_heart_d |      Survey wave
   is_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |        15         10 |        77 
        -7 |         0          0 |         1 
         0 |     4,932      4,240 |    32,845 
         1 |     1,463      1,316 |     9,215 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(6,371 real changes made)

sr_heart_di |
      s_new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         61        0.18        0.18
         -7 |          1        0.00        0.18
          0 |     33,034       95.67       95.85
          1 |      1,433        4.15      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report htn 3
(47,778 missing values generated)
(5,108 real changes made)
(2,491 real changes made)
(0 real changes made)
(0 real changes made)
(10 real changes made)
(146 real changes made)
(1,840 real changes made)
(4,066 real changes made)
(0 real changes made)
(4 real changes made)
(124 real changes made)
(1,359 real changes made)
(3,394 real changes made)
(0 real changes made)
(7 real changes made)
(76 real changes made)
(1,042 real changes made)
(2,916 real changes made)
(0 real changes made)
(3 real changes made)
(2,674 real changes made)
(2,221 real changes made)
(2,671 real changes made)
(0 real changes made)
(10 real changes made)
(111 real changes made)
(1,786 real changes made)
(4,510 real changes made)
(0 real changes made)
(3 real changes made)
(92 real changes made)
(1,481 real changes made)
(3,987 real changes made)
(0 real changes made)
(6 real changes made)

                    |                 Survey wave
         sr_htn_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |        10          4          7          3 |        43 
                 No |     2,491      1,840      1,359      1,042 |    12,220 
                Yes |     5,108        146        124         76 |     8,331 
Previously reported |         0      4,066      3,394      2,916 |    21,544 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
         sr_htn_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |        10          3          6 |        43 
                 No |     2,221      1,786      1,481 |    12,220 
                Yes |     2,674        111         92 |     8,331 
Previously reported |     2,671      4,510      3,987 |    21,544 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(17,903 missing values generated)
(12,220 real changes made)
(0 real changes made)
(43 real changes made)

sr_htn_eve |                       sr_htn_raw
         r |        -8         No        Yes  Previousl          . |     Total
-----------+-------------------------------------------------------+----------
        -8 |        43          0          0          0          0 |        43 
         0 |         0     12,220          0          0          0 |    12,220 
         1 |         0          0      8,331     21,544          0 |    29,875 
         . |         0          0          0          0      5,640 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        43     12,220      8,331     21,544      5,640 |    47,778 


sr_htn_eve |                      Survey wave
         r |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |        10          4          7          3         10 |        43 
         0 |     2,491      1,840      1,359      1,042      2,221 |    12,220 
         1 |     5,108      4,212      3,518      2,992      5,345 |    29,875 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_htn_eve |      Survey wave
         r |         6          7 |     Total
-----------+----------------------+----------
        -8 |         3          6 |        43 
         0 |     1,786      1,481 |    12,220 
         1 |     4,621      4,079 |    29,875 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(21,544 real changes made)

 sr_htn_new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         33        0.10        0.10
          0 |     31,273       90.57       90.67
          1 |      3,223        9.33      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report ra 4
(47,778 missing values generated)
(4,248 real changes made)
(3,345 real changes made)
(0 real changes made)
(1 real change made)
(15 real changes made)
(277 real changes made)
(2,399 real changes made)
(3,378 real changes made)
(0 real changes made)
(2 real changes made)
(190 real changes made)
(1,753 real changes made)
(2,934 real changes made)
(0 real changes made)
(7 real changes made)
(127 real changes made)
(1,344 real changes made)
(2,563 real changes made)
(0 real changes made)
(3 real changes made)
(2,268 real changes made)
(2,896 real changes made)
(2,402 real changes made)
(0 real changes made)
(10 real changes made)
(283 real changes made)
(2,153 real changes made)
(3,972 real changes made)
(0 real changes made)
(2 real changes made)
(158 real changes made)
(1,726 real changes made)
(3,677 real changes made)
(0 real changes made)
(5 real changes made)

                    |                 Survey wave
          sr_ra_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |        15          2          7          3 |        44 
                 -7 |         1          0          0          0 |         1 
                 No |     3,345      2,399      1,753      1,344 |    15,616 
                Yes |     4,248        277        190        127 |     7,551 
Previously reported |         0      3,378      2,934      2,563 |    18,926 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
          sr_ra_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |        10          2          5 |        44 
                 -7 |         0          0          0 |         1 
                 No |     2,896      2,153      1,726 |    15,616 
                Yes |     2,268        283        158 |     7,551 
Previously reported |     2,402      3,972      3,677 |    18,926 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(21,301 missing values generated)
(15,616 real changes made)
(1 real change made)
(44 real changes made)

           |                       sr_ra_raw
sr_ra_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |        44          0          0          0          0 |        44 
        -7 |         0          1          0          0          0 |         1 
         0 |         0          0     15,616          0          0 |    15,616 
         1 |         0          0          0      7,551     18,926 |    26,477 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        44          1     15,616      7,551     18,926 |    47,778 


           | sr_ra_raw
sr_ra_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |        44 
        -7 |         0 |         1 
         0 |         0 |    15,616 
         1 |         0 |    26,477 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


           |                      Survey wave
sr_ra_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |        15          2          7          3         10 |        44 
        -7 |         1          0          0          0          0 |         1 
         0 |     3,345      2,399      1,753      1,344      2,896 |    15,616 
         1 |     4,248      3,655      3,124      2,690      4,670 |    26,477 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


           |      Survey wave
sr_ra_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |         2          5 |        44 
        -7 |         0          0 |         1 
         0 |     2,153      1,726 |    15,616 
         1 |     4,255      3,835 |    26,477 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(18,926 real changes made)

  sr_ra_new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         29        0.08        0.08
          0 |     31,197       90.35       90.43
          1 |      3,303        9.57      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report osteoprs 5
(47,778 missing values generated)
(1,559 real changes made)
(6,023 real changes made)
(0 real changes made)
(0 real changes made)
(27 real changes made)
(172 real changes made)
(4,628 real changes made)
(1,242 real changes made)
(0 real changes made)
(14 real changes made)
(158 real changes made)
(3,558 real changes made)
(1,155 real changes made)
(1 real change made)
(12 real changes made)
(100 real changes made)
(2,835 real changes made)
(1,086 real changes made)
(0 real changes made)
(16 real changes made)
(803 real changes made)
(5,672 real changes made)
(1,064 real changes made)
(0 real changes made)
(37 real changes made)
(209 real changes made)
(4,603 real changes made)
(1,584 real changes made)
(0 real changes made)
(14 real changes made)
(164 real changes made)
(3,842 real changes made)
(1,549 real changes made)
(0 real changes made)
(11 real changes made)

                    |                 Survey wave
    sr_osteoprs_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |        27         14         12         16 |       131 
                 -7 |         0          0          1          0 |         1 
                 No |     6,023      4,628      3,558      2,835 |    31,161 
                Yes |     1,559        172        158        100 |     3,165 
Previously reported |         0      1,242      1,155      1,086 |     7,680 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
    sr_osteoprs_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |        37         14         11 |       131 
                 -7 |         0          0          0 |         1 
                 No |     5,672      4,603      3,842 |    31,161 
                Yes |       803        209        164 |     3,165 
Previously reported |     1,064      1,584      1,549 |     7,680 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(36,933 missing values generated)
(31,161 real changes made)
(1 real change made)
(131 real changes made)

sr_osteopr |                    sr_osteoprs_raw
    s_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |       131          0          0          0          0 |       131 
        -7 |         0          1          0          0          0 |         1 
         0 |         0          0     31,161          0          0 |    31,161 
         1 |         0          0          0      3,165      7,680 |    10,845 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |       131          1     31,161      3,165      7,680 |    47,778 


           | sr_osteopr
sr_osteopr |   s_raw
    s_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |       131 
        -7 |         0 |         1 
         0 |         0 |    31,161 
         1 |         0 |    10,845 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


sr_osteopr |                      Survey wave
    s_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |        27         14         12         16         37 |       131 
        -7 |         0          0          1          0          0 |         1 
         0 |     6,023      4,628      3,558      2,835      5,672 |    31,161 
         1 |     1,559      1,414      1,313      1,186      1,867 |    10,845 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_osteopr |      Survey wave
    s_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |        14         11 |       131 
        -7 |         0          0 |         1 
         0 |     4,603      3,842 |    31,161 
         1 |     1,793      1,713 |    10,845 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(7,680 real changes made)

sr_osteoprs |
       _new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |        104        0.30        0.30
         -7 |          1        0.00        0.30
          0 |     32,818       95.04       95.35
          1 |      1,606        4.65      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report diabetes 6
(47,778 missing values generated)
(1,925 real changes made)
(5,681 real changes made)
(0 real changes made)
(1 real change made)
(2 real changes made)
(88 real changes made)
(4,444 real changes made)
(1,522 real changes made)
(0 real changes made)
(2 real changes made)
(54 real changes made)
(3,543 real changes made)
(1,283 real changes made)
(1 real change made)
(3 real changes made)
(44 real changes made)
(2,888 real changes made)
(1,102 real changes made)
(0 real changes made)
(3 real changes made)
(1,099 real changes made)
(5,431 real changes made)
(1,037 real changes made)
(0 real changes made)
(9 real changes made)
(86 real changes made)
(4,541 real changes made)
(1,783 real changes made)
(0 real changes made)
(0 real changes made)
(59 real changes made)
(3,907 real changes made)
(1,597 real changes made)
(0 real changes made)
(3 real changes made)

                    |                 Survey wave
    sr_diabetes_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |         2          2          3          3 |        22 
                 -7 |         1          0          1          0 |         2 
                 No |     5,681      4,444      3,543      2,888 |    30,435 
                Yes |     1,925         88         54         44 |     3,355 
Previously reported |         0      1,522      1,283      1,102 |     8,324 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
    sr_diabetes_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |         9          0          3 |        22 
                 -7 |         0          0          0 |         2 
                 No |     5,431      4,541      3,907 |    30,435 
                Yes |     1,099         86         59 |     3,355 
Previously reported |     1,037      1,783      1,597 |     8,324 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(36,099 missing values generated)
(30,435 real changes made)
(2 real changes made)
(22 real changes made)

sr_diabete |                    sr_diabetes_raw
    s_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |        22          0          0          0          0 |        22 
        -7 |         0          2          0          0          0 |         2 
         0 |         0          0     30,435          0          0 |    30,435 
         1 |         0          0          0      3,355      8,324 |    11,679 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        22          2     30,435      3,355      8,324 |    47,778 


           | sr_diabete
sr_diabete |   s_raw
    s_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |        22 
        -7 |         0 |         2 
         0 |         0 |    30,435 
         1 |         0 |    11,679 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


sr_diabete |                      Survey wave
    s_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         2          2          3          3          9 |        22 
        -7 |         1          0          1          0          0 |         2 
         0 |     5,681      4,444      3,543      2,888      5,431 |    30,435 
         1 |     1,925      1,610      1,337      1,146      2,136 |    11,679 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_diabete |      Survey wave
    s_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |         0          3 |        22 
        -7 |         0          0 |         2 
         0 |     4,541      3,907 |    30,435 
         1 |     1,869      1,656 |    11,679 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(8,324 real changes made)

sr_diabetes |
       _new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         20        0.06        0.06
         -7 |          1        0.00        0.06
          0 |     33,078       95.80       95.86
          1 |      1,430        4.14      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report lung_dis 7
(47,778 missing values generated)
(1,154 real changes made)
(6,450 real changes made)
(0 real changes made)
(0 real changes made)
(5 real changes made)
(135 real changes made)
(5,033 real changes made)
(884 real changes made)
(0 real changes made)
(4 real changes made)
(106 real changes made)
(3,979 real changes made)
(795 real changes made)
(1 real change made)
(3 real changes made)
(75 real changes made)
(3,223 real changes made)
(736 real changes made)
(0 real changes made)
(3 real changes made)
(679 real changes made)
(6,181 real changes made)
(710 real changes made)
(0 real changes made)
(6 real changes made)
(111 real changes made)
(5,126 real changes made)
(1,170 real changes made)
(0 real changes made)
(3 real changes made)
(102 real changes made)
(4,375 real changes made)
(1,083 real changes made)
(0 real changes made)
(6 real changes made)

                    |                 Survey wave
    sr_lung_dis_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |         5          4          3          3 |        30 
                 -7 |         0          0          1          0 |         1 
                 No |     6,450      5,033      3,979      3,223 |    34,367 
                Yes |     1,154        135        106         75 |     2,362 
Previously reported |         0        884        795        736 |     5,378 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
    sr_lung_dis_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |         6          3          6 |        30 
                 -7 |         0          0          0 |         1 
                 No |     6,181      5,126      4,375 |    34,367 
                Yes |       679        111        102 |     2,362 
Previously reported |       710      1,170      1,083 |     5,378 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(40,038 missing values generated)
(34,367 real changes made)
(1 real change made)
(30 real changes made)

sr_lung_di |                    sr_lung_dis_raw
    s_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |        30          0          0          0          0 |        30 
        -7 |         0          1          0          0          0 |         1 
         0 |         0          0     34,367          0          0 |    34,367 
         1 |         0          0          0      2,362      5,378 |     7,740 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        30          1     34,367      2,362      5,378 |    47,778 


           | sr_lung_di
sr_lung_di |   s_raw
    s_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |        30 
        -7 |         0 |         1 
         0 |         0 |    34,367 
         1 |         0 |     7,740 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


sr_lung_di |                      Survey wave
    s_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         5          4          3          3          6 |        30 
        -7 |         0          0          1          0          0 |         1 
         0 |     6,450      5,033      3,979      3,223      6,181 |    34,367 
         1 |     1,154      1,019        901        811      1,389 |     7,740 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_lung_di |      Survey wave
    s_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |         3          6 |        30 
        -7 |         0          0 |         1 
         0 |     5,126      4,375 |    34,367 
         1 |     1,281      1,185 |     7,740 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(5,378 real changes made)

sr_lung_dis |
       _new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         25        0.07        0.07
         -7 |          1        0.00        0.08
          0 |     33,295       96.43       96.50
          1 |      1,208        3.50      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. prev_report dementia 9
(47,778 missing values generated)
(457 real changes made)
(7,146 real changes made)
(0 real changes made)
(0 real changes made)
(6 real changes made)
(136 real changes made)
(5,611 real changes made)
(305 real changes made)
(0 real changes made)
(4 real changes made)
(126 real changes made)
(4,455 real changes made)
(297 real changes made)
(1 real change made)
(5 real changes made)
(95 real changes made)
(3,658 real changes made)
(283 real changes made)
(0 real changes made)
(1 real change made)
(288 real changes made)
(6,994 real changes made)
(283 real changes made)
(1 real change made)
(10 real changes made)
(147 real changes made)
(5,865 real changes made)
(393 real changes made)
(0 real changes made)
(5 real changes made)
(122 real changes made)
(5,058 real changes made)
(384 real changes made)
(0 real changes made)
(2 real changes made)

                    |                 Survey wave
    sr_dementia_raw |         1          2          3          4 |     Total
--------------------+--------------------------------------------+----------
                 -8 |         6          4          5          1 |        33 
                 -7 |         0          0          1          0 |         2 
                 No |     7,146      5,611      4,455      3,658 |    38,787 
                Yes |       457        136        126         95 |     1,371 
Previously reported |         0        305        297        283 |     1,945 
--------------------+--------------------------------------------+----------
              Total |     7,609      6,056      4,884      4,037 |    42,138 


                    |           Survey wave
    sr_dementia_raw |         5          6          7 |     Total
--------------------+---------------------------------+----------
                 -8 |        10          5          2 |        33 
                 -7 |         1          0          0 |         2 
                 No |     6,994      5,865      5,058 |    38,787 
                Yes |       288        147        122 |     1,371 
Previously reported |       283        393        384 |     1,945 
--------------------+---------------------------------+----------
              Total |     7,576      6,410      5,566 |    42,138 

(44,462 missing values generated)
(38,787 real changes made)
(2 real changes made)
(33 real changes made)

sr_dementi |                    sr_dementia_raw
    a_ever |        -8         -7         No        Yes  Previousl |     Total
-----------+-------------------------------------------------------+----------
        -8 |        33          0          0          0          0 |        33 
        -7 |         0          2          0          0          0 |         2 
         0 |         0          0     38,787          0          0 |    38,787 
         1 |         0          0          0      1,371      1,945 |     3,316 
         . |         0          0          0          0          0 |     5,640 
-----------+-------------------------------------------------------+----------
     Total |        33          2     38,787      1,371      1,945 |    47,778 


           | sr_dementi
sr_dementi |   a_raw
    a_ever |         . |     Total
-----------+-----------+----------
        -8 |         0 |        33 
        -7 |         0 |         2 
         0 |         0 |    38,787 
         1 |         0 |     3,316 
         . |     5,640 |     5,640 
-----------+-----------+----------
     Total |     5,640 |    47,778 


sr_dementi |                      Survey wave
    a_ever |         1          2          3          4          5 |     Total
-----------+-------------------------------------------------------+----------
        -8 |         6          4          5          1         10 |        33 
        -7 |         0          0          1          0          1 |         2 
         0 |     7,146      5,611      4,455      3,658      6,994 |    38,787 
         1 |       457        441        423        378        571 |     3,316 
-----------+-------------------------------------------------------+----------
     Total |     7,609      6,056      4,884      4,037      7,576 |    42,138 


sr_dementi |      Survey wave
    a_ever |         6          7 |     Total
-----------+----------------------+----------
        -8 |         5          2 |        33 
        -7 |         0          0 |         2 
         0 |     5,865      5,058 |    38,787 
         1 |       540        506 |     3,316 
-----------+----------------------+----------
     Total |     6,410      5,566 |    42,138 

(13,249 missing values generated)
(1,945 real changes made)

sr_dementia |
       _new |      Freq.     Percent        Cum.
------------+-----------------------------------
         -8 |         27        0.08        0.08
         -7 |          2        0.01        0.08
          0 |     33,586       97.27       97.35
          1 |        914        2.65      100.00
------------+-----------------------------------
      Total |     34,529      100.00

. 
. la var sr_heart_dis_ever "Self report Heart Disease"

. la var sr_heart_dis_new "Self report Heart Disease since prev year"

. la var sr_htn_ever "Self report high blood pressure"

. la var sr_htn_new "Self report high blood pressure since prev year"

. la var sr_ra_ever "Self report arthritis"

. la var sr_ra_new "Self report arthritis since prev year"

. la var sr_osteoprs_ever "Self report osteoporosis"

. la var sr_osteoprs_new "Self report osteoporosis since prev year"

. la var sr_diabetes_ever "Self report diabetes"

. la var sr_diabetes_new "Self report diabetes since prev year"

. la var sr_lung_dis_ever "Self report Lung Disease"

. la var sr_lung_dis_new "Self report Lung Disease since prev year"

. la var sr_dementia_ever "Self report Dementia"

. la var sr_dementia_new "Self report Dementia since prev year"

. 
. *************************************************
. //Depression & Anxiety
. //Over the last month how often have you:
. //responses are 1=not at all, 2=several days, 3=more than half days, 4=nearly 
> every day
. *************************************************
. gen sr_depr_pqq1=.
(47,778 missing values generated)

. gen sr_depr_pqq2=.
(47,778 missing values generated)

. gen sr_anx_gad1=.
(47,778 missing values generated)

. gen sr_anx_gad2=.
(47,778 missing values generated)

. 
. forvalues w=1/$w{
  2.         //set up new variables for individual wave variables
.         foreach q in 1 2 3 4 {
  3.         gen temp_hc`w'deprsan`q'=. if inlist(depresan`q',-9,-8,-7,-1) & wav
> e==`w'
  4.         replace temp_hc`w'deprsan`q'=hc`w'depresan`q'-1 if inlist(depresan`
> q',1,2,3,4) & wave==`w'
  5.         replace temp_hc`w'deprsan`q'=0 if inlist(depresan`q',-8,-7) & wave=
> =`w'
  6.         }
  7.         //now create clean depression, anxiety variables
.         replace sr_depr_pqq1=temp_hc`w'deprsan1 if wave==`w' //little interest
>  or pleasure in doing things
  8.         replace sr_depr_pqq2=temp_hc`w'deprsan2 if wave==`w' //felt down/de
> pressed/hopeless
  9.         replace sr_anx_gad1=temp_hc`w'deprsan3 if wave==`w' //felt nervous 
> or anxious
 10.         replace sr_anx_gad2=temp_hc`w'deprsan4 if wave==`w' //unable to sto
> p worrying
 11.         
. 
.         foreach q in 1 2 3 4 {
 12.         drop temp_hc`w'deprsan`q'
 13.         }
 14.         
. }
(47,778 missing values generated)
hc1depresan1 not found
r(111);

end of do-file

r(111);

